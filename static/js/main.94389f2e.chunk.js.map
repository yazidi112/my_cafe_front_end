{"version":3,"sources":["apis/api.js","components/Nav.js","components/article/Liste.js","components/article/New.js","components/article/Edit.js","components/category/Liste.js","components/category/New.js","components/category/Edit.js","components/helpers/date.js","components/commande/print.js","components/commande/New.js","components/commande/Liste.js","components/users/Liste.js","components/users/New.js","components/users/Edit.js","components/users/changePassword.js","components/settings/index.js","components/historique/index.js","components/Login.js","components/Logout.js","components/Home.js","index.js"],"names":["token","localStorage","getItem","api","axios","create","baseURL","headers","Nav","state","email","roles","user","JSON","parse","this","setState","className","href","style","fontSize","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","role","to","indexOf","React","Component","Article","articles","message","page","itemsPerPage","articlesRefresh","get","then","res","data","onChangePage","pas","parseInt","onDelete","window","confirm","delete","err","width","map","article","key","src","image","title","price","category","onClick","bind","class","disabled","length","ArticleNew","redirect","categories","onFormSubmit","event","preventDefault","post","target","files","formData","FormData","append","url","onSubmit","onChange","value","parseFloat","console","log","readOnly","onImageUpload","props","put","params","match","selected","categorie","categoriesRefresh","categoryNew","CategoryNew","date","d","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","print","dangerouslySetInnerHTML","__html","settings","printhead","commande","nom","prenom","lignes","index","intitule","prix","quantite","montant","colSpan","total","split","printfoot","commandeNew","messageCategories","articlesByCategory","caisse","annulee","messages","saved","onCategorySelect","filter","onArticleSelect","ligne","toFixed","push","onArticleDelete","splice","onCommandeNew","onCommandePost","c","articlesResfresh","reduce","a","b","height","onLigneQteUpdate","commandes","credit","onDateChange","e","onCommandeSelect","users","usersRefresh","tel","userNew","password","adresse","changePassword","Settings","commandesMessage","commandeMessage","selecteduser","creditMessage","etat","getCredit","u","onEncaisser","onCommandeAnnuler","Login","logged","personnes","onEmailChange","onPwdChange","input","onLogin","setItem","stringify","p","text","Logout","clear","Home","exact","path","component","CommandeNew","CommandeListe","CategoryListe","CategoryEdit","ArticleListe","ArticleEdit","UserListe","UserNew","UserEdit","Historique","ChangePassword","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.94389f2e.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst token = localStorage.getItem(\"token\");\r\nconst url = \"http://localhost:8000/api\";\r\nconst api = axios.create({\r\n    baseURL : url,\r\n    headers: {\r\n        'Content-Type'  : 'application/json',\r\n        'Accept'        : 'application/json',\r\n        'Authorization' : `Bearer ${token}`\r\n    }\r\n});\r\n\r\nexport default api;","import React from 'react'\r\nimport {  Link }  from 'react-router-dom'\r\n \r\nclass Nav extends React.Component{\r\n\r\n     state = {\r\n         email: '',\r\n         roles : ''\r\n     }\r\n\r\n    componentDidMount(){\r\n        let user = JSON.parse(localStorage.getItem('user'));        \r\n        //let user = {email:'yazidi', roles:['ROLE_USER']};\r\n        this.setState({email : user.email});\r\n        this.setState({roles : user.roles});\r\n    }\r\n   \r\n    render(){\r\n        \r\n            return ( \r\n                 <div>\r\n                    <nav className=\"navbar navbar-expand-lg  navbar-dark bg-dark \">\r\n                        <a className=\"navbar-brand\" href=\"#\">\r\n                            My <strong><i>Café</i> 2020</strong> <br/>\r\n                            <small style={{fontSize: '50%'}}><i>By Imran YAZIDI</i></small>\r\n                        </a>\r\n                        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                            <span className=\"navbar-toggler-icon\"></span>\r\n                        </button>\r\n\r\n                        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                            <ul className=\"navbar-nav justify-content-center mr-auto \">\r\n                            </ul>\r\n                            <span className=\"navbar-text\">\r\n                                 \r\n                                <div className=\"btn-group m-1\" role=\"group\" aria-label=\"Basic example\">\r\n                                    <Link className=\"btn btn-info btn-sm pull-right  \" to=\"/commandes\" >Mes Commandes</Link>\r\n                                    <Link className=\"btn btn-light text-dark  btn-sm pull-right   \" to=\"/commande/new\" >+</Link>\r\n                                </div>\r\n                                 \r\n                                { this.state.roles.indexOf('ROLE_ADMIN')>=0 &&\r\n                                    <span>\r\n                                        <Link className=\"btn btn-secondary pull-right m-1 btn-sm\" to=\"/historique\" >Historique</Link>\r\n                                        <div className=\"btn-group m-1\" role=\"group\" aria-label=\"Basic example\">\r\n                                            <Link className=\"btn btn-warning  pull-right  btn-sm\" to=\"/categories\" >Catégories</Link>\r\n                                            <Link className=\"btn btn-secondary pull-right  btn-sm\" to=\"/categories/new\" >+</Link>\r\n                                        </div>\r\n                                        <div className=\"btn-group m-1\" role=\"group\" aria-label=\"Basic example\">\r\n                                            <Link className=\"btn btn-warning pull-right   btn-sm\" to=\"/articles\" >Articles</Link>\r\n                                            <Link className=\"btn btn-secondary pull-right   btn-sm\" to=\"/articles/new\" >+</Link>\r\n                                        </div>\r\n                                        <div className=\"btn-group m-1\" role=\"group\" aria-label=\"Basic example\">\r\n                                            <Link className=\"btn btn-success pull-right   btn-sm\" to=\"/users\" >Utilisateurs</Link>\r\n                                            <Link className=\"btn btn-secondary pull-right   btn-sm\" to=\"/users/new\" >+</Link>\r\n                                        </div>\r\n                                        <Link className=\"btn btn-secondary pull-right m-1 btn-sm\" to=\"/settings\" >Paramètres</Link>\r\n                                    </span>\r\n                                    }\r\n                                <Link className=\"btn btn-danger btn-sm ml-2\" to=\"/logout\" >Déconnexion</Link>\r\n                            </span>\r\n                        </div>\r\n                    </nav>\r\n                    \r\n                </div>    \r\n             \r\n            );\r\n        \r\n        }\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport { Link }  from 'react-router-dom';\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass Article extends React.Component{\r\n    state = { \r\n        articles        : [],\r\n        message         : '',\r\n        page            : 1,\r\n        itemsPerPage    : 10,\r\n    };\r\n\r\n    articlesRefresh = () =>{\r\n        this.setState({message: <div className=\"alert alert-warning\">Chargement en cours..</div>});\r\n        api.get('/articles?itemsPerPage='+this.state.itemsPerPage+'&page='+this.state.page)\r\n            .then(res => {\r\n                const articles = res.data;\r\n                this.setState({ articles });\r\n                this.setState({message: <div className=\"alert alert-success\">Chargement términé.</div>});\r\n        }) \r\n    }\r\n\r\n    onChangePage = (pas) =>{\r\n        let page = this.state.page;\r\n        page     = parseInt(page) + parseInt(pas);\r\n        this.setState({page});\r\n        api.get('/articles?itemsPerPage='+this.state.itemsPerPage+'&page='+page)\r\n            .then(res => {\r\n                const articles = res.data;\r\n                this.setState({ articles });\r\n                this.setState({message: <div className=\"alert alert-success\">Chargement términé.</div>});\r\n        }) \r\n    }\r\n\r\n    componentDidMount(){\r\n        this.articlesRefresh();\r\n    }\r\n     \r\n    onDelete = (id) => {\r\n        if(!window.confirm(\"Etes-vous sûr de vouloir supprimer ?\"))\r\n            return false;\r\n        this.setState({message: <div className=\"alert alert-warning\">Suppression en cours..</div>});\r\n        api.delete(`/articles/${id}`).then(\r\n            res => {\r\n                this.setState({message: <div className=\"alert alert-success\">Suppression effectué.</div>});\r\n                this.articlesRefresh();\r\n            },\r\n            err => {\r\n                this.setState({message: <div className=\"alert alert-danger\"><strong>Erreur: </strong>Suppression n'est pas effectué.</div>});\r\n            })  \r\n    }\r\n \r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div className=\"container\">\r\n                    <div className=\"card m-3\">\r\n                        <div className=\"card-header bg-info text-white\">\r\n                             Articles \r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                        {this.state.message}\r\n                        <div className=\"table-responsive\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Image</th>\r\n                                        <th>Titre</th>\r\n                                        <th>Prix</th>\r\n                                        <th>Catégorie</th>\r\n                                        <th style={{width : 200}}>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    { this.state.articles.map(article => \r\n                                        <tr key={article.id}>\r\n                                            <td><img src={article.image} style={{width: '100px'}} /></td>\r\n                                            <td>{article.title}</td>\r\n                                            <td>{article.price}</td>\r\n                                            <td>{article.category.title}</td>\r\n                                            <td>\r\n                                                <a href=\"#\"  className=\"btn btn-sm btn-danger  mr-3\" onClick={this.onDelete.bind(this,article.id)}>Supprimer</a>  \r\n                                                <Link className=\"btn btn-sm btn-success\" to={`/articles/edit/${article.id}`} >Modifier</Link> \r\n                                            </td>\r\n                                        </tr>\r\n                                        )}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <nav aria-label=\"Page navigation example\">\r\n                            <small>Page: <strong>{this.state.page}</strong></small>\r\n                            <ul className=\"pagination justify-content-center\">\r\n                                <li className=\"page-item\">\r\n                                    {this.state.page == 1 &&\r\n                                        <button class=\"page-link\" href=\"#\" disabled>Précedant</button>\r\n                                    }\r\n                                    {this.state.page>1 && \r\n                                        <button  class=\"page-link\" href=\"#\" onClick={this.onChangePage.bind(this,-1)}>Précedant</button>\r\n                                    }\r\n                                </li>\r\n                                <li className=\"page-item\">\r\n                                {this.state.articles.length == 0 && \r\n                                    <button  className=\"page-link\" href=\"#\"  disabled>Suivant</button >\r\n                                }\r\n\r\n                                {this.state.articles.length > 0 && \r\n                                    <button  className=\"page-link\" href=\"#\"  onClick={this.onChangePage.bind(this,1)}>Suivant</button >\r\n                                }\r\n                                </li>\r\n                            </ul>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n          );\r\n    }\r\n}\r\n\r\nexport default Article;  \r\n","import React from 'react';\r\nimport { Redirect}  from 'react-router-dom'\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\n\r\nclass ArticleNew extends React.Component{\r\n    state = { redirect: null,\r\n              article : {title : null, price: null, image: null, category: null},\r\n              categories : [] ,\r\n              message: '' \r\n            };\r\n     \r\n     \r\n\r\n    onImageUpload(event) {\r\n        \r\n        if (event.target.files && event.target.files[0]) {\r\n             \r\n            const formData = new FormData()\r\n            formData.append(\"file\",event.target.files[0]);            \r\n            api.post(`../upload`,formData).then(\r\n                res =>{\r\n                    let article = this.state.article;\r\n                    article.image = res.data.url;\r\n                    this.setState({article});\r\n                }) \r\n        }\r\n    }\r\n    \r\n    componentDidMount(){\r\n        api.get('/categories')\r\n            .then(res => {\r\n                let categories = res.data;\r\n                this.setState({categories});\r\n        })  \r\n    }\r\n     \r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.setState({message: <div className=\"alert alert-warning\">Ajout en cours..</div>})\r\n        api.post('/articles',this.state.article).then(\r\n            res => {\r\n                this.setState({message: <div className=\"alert alert-success\">Article est bien ajouté.</div>})\r\n                this.setState({redirect: true});\r\n            },\r\n            err =>{\r\n                this.setState({message: <div className=\"alert alert-danger\">Une erreur est survenu merci de ressayer.</div>})\r\n            }\r\n        )  \r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirect)\r\n            return <Redirect to=\"/articles\" />\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div className=\"container\"> \r\n                <div className=\"card m-3\">\r\n                    <div className=\"card-header bg-info text-white\">\r\n                         Ajouter un article \r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <form onSubmit={this.onFormSubmit}>\r\n                            {this.state.message}\r\n                            <div className=\"form-group\">\r\n                                <label>Titre</label>\r\n                                <input type=\"text\" onChange={(event)=>{\r\n                                    let article = this.state.article;\r\n                                    article.title= event.target.value;\r\n                                    this.setState({article});\r\n                                    }} className=\"form-control\" />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Prix</label>\r\n                                <input type=\"text\" onChange={(event)=>{\r\n                                    let article = this.state.article;\r\n                                    article.price = parseFloat(event.target.value);\r\n                                    this.setState({article});\r\n                                    }} className=\"form-control\" />\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group\">\r\n                                <label>Catégorie</label>\r\n                                <select onChange={(event)=>{\r\n                                    let article = this.state.article;\r\n                                    article.category = \"/api/categories/\"+event.target.value;\r\n                                    this.setState({article});\r\n                                    console.log(event.target.value);\r\n                                    }} className=\"form-control\">\r\n                                    <option>Choisir une catégorie</option>\r\n                                    {this.state.categories.map( category => {\r\n                                        return <option key={category.id} value={category.id}>{category.title}</option>\r\n                                    })}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Image</label>\r\n                                <div className=\"input-group mb-2\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <div className=\"input-group-text\">\r\n                                            <img src={this.state.article.image} className=\"d-block\" style={{width: \"32px\"}} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <input type=\"text\" value={this.state.article.image} readOnly className=\"form-control\" />\r\n                                </div>\r\n                                <input type=\"file\" className=\"form-control-file\" onChange={this.onImageUpload.bind(this)} />\r\n                            </div>\r\n                            \r\n                            <button className=\"btn btn-primary\">Ajouter</button>\r\n                        </form>\r\n                         \r\n                    </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n           \r\n          );\r\n    }\r\n}\r\n\r\nexport default ArticleNew;  ","import React from 'react';\r\nimport {Redirect}  from 'react-router-dom'\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass ArticleNew extends React.Component{\r\n    state = { \r\n        article     : {id: null, title : null, price: null, category: null, image: null },\r\n        categories  : [],\r\n        redirect    : null\r\n    };\r\n\r\n    constructor(props){\r\n        super(props);\r\n        const { match: { params } } = props;\r\n        api.get('/articles/'+params.id)\r\n            .then(res => {\r\n                const article = res.data;\r\n                article.category = \"/api/categories/\"+article.category.id;\r\n                this.setState({ article }); \r\n        });\r\n        api.get('/categories')\r\n            .then((res)=>{\r\n                let categories = res.data;\r\n                this.setState({categories});\r\n        }) \r\n    }\r\n\r\n     \r\n\r\n    onImageUpload(event) {\r\n        \r\n        if (event.target.files && event.target.files[0]) {\r\n             \r\n            const formData = new FormData()\r\n            formData.append(\"file\",event.target.files[0]);\r\n\r\n            api.post(`../upload`,formData).then(\r\n                res =>{\r\n                    let article = this.state.article;\r\n                    article.image = res.data.url;\r\n                    this.setState({article});\r\n                }) \r\n        }\r\n    }\r\n     \r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        api.put('/articles/'+this.state.article.id,this.state.article)\r\n            .then(res => {\r\n                this.setState({redirect: true});\r\n        })  \r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirect)\r\n            return <Redirect to=\"/articles\" />\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div className=\"container\">\r\n                   \r\n                    <div className=\"card m-3\">\r\n                        <div className=\"card-header bg-info text-white\">\r\n                             Modifier un article \r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <form onSubmit={this.onFormSubmit}>\r\n                                <div className=\"form-group\">\r\n                                    <label>Titre</label>\r\n                                    <input type=\"text\" value={this.state.article.title} onChange={(event)=>{\r\n                                        let article = this.state.article;\r\n                                        article.title = event.target.value;\r\n                                        this.setState({article})}\r\n                                        } className=\"form-control\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Prix</label>\r\n                                    <input type=\"text\" value={this.state.article.price} onChange={(event)=>{\r\n                                        let article = this.state.article;\r\n                                        article.price = event.target.value;\r\n                                        this.setState({article})}\r\n                                        } className=\"form-control\" />\r\n                                </div>\r\n                                 \r\n                                <div className=\"form-group\">\r\n                                    <label>Catégorie</label>\r\n                                    <select onChange={(event)=>{\r\n                                        let article = this.state.article;\r\n                                        article.category = \"/api/categories/\"+event.target.value;\r\n                                        this.setState({article});\r\n                                        }} className=\"form-control\">\r\n                                        {this.state.article.id && this.state.categories.map( category => {\r\n                                            if(category.id == this.state.article.category.id){\r\n                                                return <option key={category.id} \r\n                                                value={category.id} selected>\r\n                                                    {category.title}\r\n                                                </option>\r\n                                            }else{\r\n                                                return <option key={category.id} \r\n                                                value={category.id}>\r\n                                                    {category.title}\r\n                                                </option>\r\n                                            }\r\n                                        })}\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                <label>Image</label>\r\n                                <div className=\"input-group mb-2\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <div className=\"input-group-text\">\r\n                                            <img src={this.state.article.image} className=\"d-block\" style={{width: \"32px\"}} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <input type=\"text\" value={this.state.article.image} readOnly className=\"form-control\" />\r\n                                </div>\r\n                                <input type=\"file\" className=\"form-control-file\" onChange={this.onImageUpload.bind(this)} />\r\n                            </div>\r\n                                <button className=\"btn btn-primary\">Modifier</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default ArticleNew;  ","import React from 'react';\r\nimport { Link }  from 'react-router-dom';\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass categorie extends React.Component{\r\n    state = { \r\n        categories : [],\r\n        message: ''\r\n    };\r\n\r\n     \r\n    componentDidMount(){\r\n        \r\n        this.categoriesRefresh();\r\n    }\r\n\r\n    categoriesRefresh(){\r\n        this.setState({message: <div className=\"alert alert-warning\">Chargement en cours..</div>});\r\n        api.get('/categories')\r\n            .then(res => {\r\n                const categories = res.data;\r\n                this.setState({ categories }); \r\n                this.setState({message: <div className=\"alert alert-success\">Chargement terminé..</div>});\r\n            } ,err=>{\r\n                this.setState({message: <div className=\"alert alert-danger\">Chargement echoué..</div>});\r\n            }) \r\n    }\r\n     \r\n    onDelete = (id) => {\r\n        if(!window.confirm(\"Etes-vous sûr de vouloir supprimer ?\"))\r\n            return false;\r\n        this.setState({message: <div className=\"alert alert-warning\">Suppression en cours..</div>});\r\n        api.delete(`/categories/${id}`).then(\r\n            res => {\r\n                this.setState({message: <div className=\"alert alert-success\">Suppression effectué.</div>});\r\n                this.categoriesRefresh();\r\n            },\r\n            err => {\r\n                this.setState({message: <div className=\"alert alert-danger\"><strong>Erreur: </strong>Suppression n'est pas effectué.</div>});\r\n            }\r\n            )  \r\n    }\r\n\r\n     \r\n\r\n     \r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div className=\"container\">\r\n                    <div className=\"card m-3\">\r\n                        <div className=\"card-header bg-info text-white\">\r\n                            Catégories \r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                        {this.state.message}\r\n                        <table className=\"table table-bordered table-striped\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Image</th>\r\n                                    <th>Titre</th>\r\n                                    <th style={{width : 200}}>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                { this.state.categories.map(categorie => \r\n                                    <tr key={categorie.id}>\r\n                                        <td><img src={categorie.image} style={{width: '100px'}} /></td>\r\n                                        <td>{categorie.title}</td>\r\n                                        <td>\r\n                                            <a href=\"#\"  className=\"btn btn-sm btn-danger  mr-3\" onClick={this.onDelete.bind(this,categorie.id)}>Supprimer</a>  \r\n                                            <Link className=\"btn btn-sm btn-success\" to={`/categories/edit/${categorie.id}`} >Modifier</Link> \r\n                                        </td>\r\n                                    </tr>\r\n                                    )}\r\n                            </tbody>\r\n                        </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n          );\r\n    }\r\n}\r\n\r\nexport default categorie;  ","import React from 'react';\r\nimport { Redirect}  from 'react-router-dom'\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass categoryNew extends React.Component{\r\n    state = { redirect: null, title : null, image: null  };\r\n\r\n    onImageUpload(event) {\r\n        \r\n        if (event.target.files && event.target.files[0]) {\r\n             \r\n            const formData = new FormData()\r\n            formData.append(\"file\",event.target.files[0]);\r\n\r\n            api.post(`../upload`,formData).then(\r\n                res =>{\r\n                    this.setState({image: res.data.url});\r\n                }) \r\n        }\r\n    }\r\n     \r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        api.post('/categories',{title: this.state.title, image: this.state.image})\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({redirect: true});\r\n        })  \r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirect)\r\n            return <Redirect to=\"/categories\" />\r\n        return (\r\n            <div>\r\n                 <Nav />\r\n                <div className=\"container\"> \r\n                    <div className=\"card m-3\">\r\n                        <div className=\"card-header bg-info text-white\">\r\n                            Ajouter une catégorie\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <form onSubmit={this.onFormSubmit}>\r\n                                <div className=\"form-group\">\r\n                                    <label>Titre</label>\r\n                                    <input type=\"text\" onChange={(event)=>{this.setState({title: event.target.value})}} className=\"form-control\" />\r\n                                </div>\r\n                                 \r\n                                <div className=\"form-group\">\r\n                                    <label>Image</label>\r\n                                    <div className=\"input-group mb-2\">\r\n                                        <div className=\"input-group-prepend\">\r\n                                            <div className=\"input-group-text\">\r\n                                                <img src={this.state.image} className=\"d-block\" style={{width: \"32px\"}} />\r\n                                            </div>\r\n                                        </div>\r\n                                        <input type=\"text\" value={this.state.image} readOnly className=\"form-control\" />\r\n                                    </div>\r\n                                    <input type=\"file\" className=\"form-control-file\" onChange={this.onImageUpload.bind(this)} />\r\n                                </div>\r\n                                \r\n                                <button className=\"btn btn-primary\">Ajouter</button>\r\n                            </form>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default categoryNew;  ","import React from 'react';\r\nimport {   Redirect }  from 'react-router-dom'\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\n\r\nclass CategoryNew extends React.Component{\r\n    state = { \r\n        data : {id: null, title : null , image: null },\r\n        redirect : null\r\n    };\r\n\r\n    onImageUpload(event) {\r\n        \r\n        if (event.target.files && event.target.files[0]) {\r\n             \r\n            const formData = new FormData()\r\n            formData.append(\"file\",event.target.files[0]);\r\n\r\n            api.post(`../upload`,formData).then(\r\n                res =>{\r\n                    let data = this.state.data;\r\n                    data.image = res.data.url;\r\n                    this.setState({data});\r\n                }) \r\n        }\r\n    }\r\n\r\n     componentDidMount(){\r\n        const { match: { params } } = this.props;\r\n        console.log(this.props);\r\n        api.get('/categories/'+params.id)\r\n            .then(res => {\r\n                const data = res.data;\r\n                this.setState({ data }); \r\n        }) \r\n     }\r\n     \r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        api.put('/categories/'+this.state.data.id,this.state.data)\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({redirect: true});\r\n        })  \r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirect)\r\n            return <Redirect to=\"/categories\" />\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div className=\"container\"> \r\n                    <div className=\"card m-3\">\r\n                        <div className=\"card-header bg-info text-white\">\r\n                             Modifier un Catégorie \r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <form onSubmit={this.onFormSubmit}>\r\n                                <div className=\"form-group\">\r\n                                    <label>Titre</label>\r\n                                    <input type=\"text\" value={this.state.data.title} onChange={(event)=>{\r\n                                        let data = this.state.data;\r\n                                        data.title = event.target.value;\r\n                                        this.setState({data})}\r\n                                        } className=\"form-control\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Image</label>\r\n                                    <div className=\"input-group mb-2\">\r\n                                        <div className=\"input-group-prepend\">\r\n                                            <div className=\"input-group-text\">\r\n                                                <img src={this.state.data.image} className=\"d-block\" style={{width: \"32px\"}} />\r\n                                            </div>\r\n                                        </div>\r\n                                        <input type=\"text\" value={this.state.data.image} readOnly className=\"form-control\" />\r\n                                    </div>\r\n                                    <input type=\"file\" className=\"form-control-file\" onChange={this.onImageUpload.bind(this)} />\r\n                                </div>\r\n                                \r\n                                <button className=\"btn btn-primary\">Modifier</button>\r\n                            </form>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default CategoryNew;  ","const date = () => {\r\n    const d = new Date();\r\n    const date = d.getFullYear()+'/'+(d.getMonth()+1)+'/'+d.getDate();\r\n    const time = d.getHours()+':'+d.getMinutes()+':'+d.getSeconds();\r\n    return date+' '+time;\r\n}\r\n\r\nexport default date;","import React from 'react';\r\n\r\nclass print extends React.Component{\r\n    render (){\r\n        return <div className=\"bg-white p-3 text-center d-none d-print-block\" style={{width:'600px',fontSize:'35px'}}>\r\n                    <div dangerouslySetInnerHTML={{__html: this.props.settings.printhead}} />\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            Commande N° {this.props.commande.id && this.props.commande.id}\r\n                        </div>\r\n                        <div className=\"col\">\r\n                            Serveur: {this.props.user && this.props.user.nom} {this.props.user && this.props.user.prenom}\r\n                        </div>\r\n                    </div> \r\n                    <table className=\"table tablebordered\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Article</th>\r\n                                <th>Prix</th>\r\n                                <th>Quantité</th>\r\n                                <th>Montant</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            { this.props.commande.lignes.map((commande,index) => \r\n                                \r\n                                <tr key={index}>\r\n                                    <td>{commande.article.intitule}</td>\r\n                                    <td>{commande.prix}</td>\r\n                                    <td>\r\n                                        <span className=\"p-2\">{commande.quantite}</span>\r\n                                    </td>\r\n                                    <td>{commande.montant}</td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                        <tfoot  > \r\n                            <tr>\r\n                                <th>TOTAL</th>\r\n                                <th colSpan=\"4\" className=\"text-right\">\r\n                                { this.props.commande.total }\r\n                                </th>\r\n                            </tr>\r\n                        </tfoot>\r\n                        \r\n                    </table>\r\n                    <p>\r\n                    {this.props.commande.date && this.props.commande.date.split(\"T\")[0]} - \r\n                    {this.props.commande.date && this.props.commande.date.split(\"T\")[1]}   \r\n                    </p>\r\n                    \r\n                    <div dangerouslySetInnerHTML={{__html: this.props.settings.printfoot}} />\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default print;","import React from 'react';\r\nimport {Redirect}  from 'react-router-dom'\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\nimport date from '../helpers/date';\r\nimport Print from '../commande/print';\r\n\r\nclass commandeNew extends React.Component{\r\n    state = { \r\n              redirect          : null,\r\n              print             : false,\r\n              categories        : [],\r\n              messageCategories : '',\r\n              articles          : [],\r\n              articlesByCategory: [],\r\n              commande          : {id:null, lignes: [], user: null, date: null, total: 0, caisse:false, annulee: false },\r\n              user              : JSON.parse(localStorage.getItem('user')),\r\n              settings          : {},\r\n              messages          : {article: ''},\r\n              message           : '',\r\n              saved             : false \r\n            };\r\n\r\n    componentDidMount(){\r\n        this.categoriesRefresh();\r\n        this.articlesResfresh();\r\n        this.settings();\r\n    }\r\n\r\n    settings(){\r\n        api.get('/settings/1')\r\n        .then(res => {\r\n            const settings = res.data;\r\n            this.setState({ settings }); \r\n        });\r\n    }\r\n\r\n    categoriesRefresh(){\r\n        this.setState({messageCategories : <div className=\"alert alert-warning\"><small>Chargement cours..</small></div>});\r\n        api.get('/categories')\r\n            .then(res => {\r\n                const categories = res.data;\r\n                this.setState({ categories });\r\n                this.setState({messageCategories : ''});                 \r\n        }, err=>{\r\n            this.setState({messageCategories : <div className=\"alert alert-danger\"><small>Erreur lors de chargement.</small></div>});\r\n        })\r\n         \r\n    }\r\n \r\n    articlesResfresh(){\r\n        api.get('/articles')\r\n            .then(res => {\r\n                const articles = res.data;\r\n                this.setState({ articles });\r\n                this.onCategorySelect(1);\r\n        }) \r\n    }\r\n    \r\n\r\n    onCategorySelect = (id) => {\r\n        let articlesByCategory = this.state.articles.filter(function(article){\r\n            return article.category.id == id\r\n        });\r\n        this.setState({articlesByCategory});\r\n    }\r\n     \r\n\r\n    onArticleSelect = (id, intitule, prix ) => {\r\n        let ligne        = {};\r\n        ligne.article    = {id: id, intitule: intitule};\r\n        ligne.prix       = parseFloat(prix).toFixed(2);\r\n        ligne.quantite   = 1;\r\n\r\n        let montant      = parseFloat((prix * 1)).toFixed(2);\r\n        ligne.montant    = montant;\r\n\r\n        let commande = this.state.commande;\r\n        commande.total = (parseFloat(commande.total) + parseFloat(montant)).toFixed(2);\r\n\r\n        commande.lignes.push(ligne);\r\n        this.setState({commande});\r\n\r\n    }\r\n\r\n    onLigneQteUpdate(index,value){\r\n\r\n        let commande = this.state.commande;\r\n        commande.lignes[index].quantite = parseInt(commande.lignes[index].quantite) + parseInt(value);\r\n        commande.lignes[index].montant  = (parseFloat(commande.lignes[index].prix) * parseFloat(commande.lignes[index].quantite)).toFixed(2);\r\n        commande.total = (commande.lignes.reduce((a, b) => parseFloat(a) + parseFloat(b.montant), 0)).toFixed(2);\r\n        console.log(commande.total);\r\n        this.setState({commande});\r\n    }\r\n\r\n    onArticleDelete = (index) => {\r\n        \r\n        let commande = this.state.commande;\r\n        commande.total = commande.total - commande.lignes[index].montant;\r\n        commande.lignes.splice(index,1);\r\n        this.setState({commande});\r\n    }\r\n\r\n    onCommandeNew = () => {\r\n        let commande   = { lignes: [], total: 0 };\r\n        this.setState({commande});\r\n        this.setState({message: ''});\r\n        this.setState({saved: false});\r\n    }\r\n\r\n    onCommandePost = (event) => {\r\n        event.preventDefault();\r\n        \r\n        if(this.state.saved)\r\n            return false;\r\n            \r\n        this.setState({message: <div className=\"alert alert-warning\">Commande en cours de sauvgarde..</div>})\r\n        api.post('/commandes',{user:'/api/users/' + this.state.user.id, date: date(), caisse: false, annulee: false}).then(\r\n            res => {\r\n                if(res.data.id){\r\n                    let commande    = this.state.commande;\r\n                    commande.id     =  res.data.id;\r\n                    commande.user   = res.data.user;\r\n                    commande.date   = res.data.date;\r\n                    this.setState({commande});\r\n                    this.state.commande.lignes.map((c) => {\r\n                        \r\n                        return api.post('/lignecommandes',{\r\n                                \"article\"   : \"/api/articles/\" + c.article.id,\r\n                                \"quantite\"  : c.quantite,\r\n                                \"prix\"      : parseFloat(c.prix),\r\n                                \"commande\"   : \"/api/commandes/\"+res.data.id\r\n                            }).then(\r\n                                res => {\r\n                                    console.log(res.data);\r\n                                },\r\n                                err => {\r\n                                    console.log(err)\r\n                                }\r\n                            )\r\n                    })\r\n                    this.setState({message: <div className=\"alert alert-success\">Commande Sauvgardé avec l'ID: {res.data.id} </div>})\r\n                    this.setState({saved: true});\r\n                    window.print();\r\n                    this.onCommandeNew();\r\n                }\r\n            },\r\n            err => {\r\n                console.log(err)\r\n            }\r\n        )\r\n    }\r\n\r\n   \r\n\r\n\r\n    render(){\r\n        if(this.state.redirect)\r\n            return <Redirect to=\"/categories\" />\r\n         \r\n            return (\r\n                <div>\r\n                <Print commande={this.state.commande}  settings={this.state.settings} user={this.state.user}  />\r\n                <Nav />\r\n                <div className=\"row d-print-none\" style={{height:\"600px\"}}>\r\n                \r\n                    <div className=\"col-md-2 border-right overflow-auto h-100 p-1\">\r\n                        \r\n                                \r\n                                { this.state.categories.map(categorie => \r\n                                    <button className=\"btn btn-sm btn-light m-1 d-block text-left w-100\"  key={categorie.id}\r\n                                        onClick={this.onCategorySelect.bind(this,categorie.id)}>\r\n                                        <img src={categorie.image} className=\"mr-2\" style={{height: '50px'}} />\r\n                                        <strong>{categorie.title}</strong>\r\n                                    </button>\r\n                                )}\r\n                                { this.state.messageCategories }\r\n                                \r\n                           \r\n                    </div>\r\n\r\n                    <div className=\"col-md-5 border-right overflow-auto h-100\">\r\n                        \r\n                                {this.state.messages.article }\r\n                                { this.state.articlesByCategory.map(article => \r\n                                    <button className=\"btn btn-sm btn-light m-1\" \r\n                                        key={article.id}\r\n                                        onClick={this.onArticleSelect.bind(this,article.id, article.title, article.price)}>\r\n                                        <img src={article.image} style={{width: '80px'}} />\r\n                                        <br/>\r\n                                        {article.title} \r\n                                        <br/>\r\n                                        <strong>{article.price} DH</strong>\r\n                                    </button>\r\n                                )}   \r\n                                                              \r\n                          \r\n                    </div>\r\n\r\n                    <div className=\"col-md-5 h-100 p-1\">\r\n                                {this.state.message} \r\n                                <div className=\"table-responsive\">\r\n                                    <div className=\"row p-2\">\r\n                                        <div className=\"col\">\r\n                                            <i className=\"fa fa-user\"></i>  {this.state.user.nom} {this.state.user.prenom}\r\n                                        </div>\r\n                                        \r\n                                        <div className=\"col text-center big\">\r\n                                            TOTAL: <strong>{parseFloat(this.state.commande.total).toFixed(2)} DH</strong>\r\n                                        </div>\r\n                                        <div className=\"col text-right\">\r\n                                            <button className=\"btn btn-info mr-1\"\r\n                                                onClick={this.onCommandePost.bind(this)}>\r\n                                                    Valider\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"table-responsive\"  style={{height:\"527px\"}}>\r\n                                        <table className=\"print table table-bordered bg-white table-striped\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Article</th>\r\n                                                    <th>Prix</th>\r\n                                                    <th>Quantité</th>\r\n                                                    <th>Montant</th>\r\n                                                    <th></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                { this.state.commande.lignes.map((commande,index) => \r\n                                                    \r\n                                                    <tr key={index}>\r\n                                                        <td>{commande.article.intitule}</td>\r\n                                                        <td>{commande.prix}</td>\r\n                                                        <td>\r\n                                                            <button className=\"btn btn-sm btn-warning\"\r\n                                                                onClick={this.onLigneQteUpdate.bind(this,index,-1)}>-\r\n                                                            </button>\r\n                                                            <span className=\"p-2\">{commande.quantite}</span>\r\n                                                            <button className=\"btn btn-sm btn-warning\"\r\n                                                                onClick={this.onLigneQteUpdate.bind(this,index,1)}>+\r\n                                                            </button>\r\n                                                        </td>\r\n                                                        <td>{commande.montant}</td>\r\n                                                        <td>\r\n                                                            <button className=\"btn btn-sm btn-danger\"\r\n                                                            onClick={this.onArticleDelete.bind(this,index)}>X</button>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                )}\r\n                                            </tbody>\r\n                                             \r\n                                        </table>\r\n                                    </div>\r\n                                  \r\n                               \r\n                            </div>\r\n                             \r\n                        </div>\r\n                   \r\n                    \r\n                </div>\r\n            </div>\r\n           \r\n          );\r\n    }\r\n}\r\n\r\nexport default commandeNew;  ","import React from 'react';\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass commande extends React.Component{\r\n    state = { \r\n        commandes   : [],\r\n        commande    : [],\r\n        credit      : 0.00,\r\n        user        : JSON.parse(localStorage.getItem('user')) \r\n    };\r\n\r\n    onDateChange = (e) =>{\r\n        let date = e.target.value.split(\"T\")[0];\r\n        api.get('/commandes?user='+this.state.user.id+'&date='+ date)\r\n            .then(res => {\r\n                const commandes = res.data;\r\n                this.setState({ commandes }); \r\n        }) \r\n    }\r\n\r\n    componentDidMount(){\r\n        //this.commandesRefresh();\r\n            api.get('../commandes/no_rendu/'+this.state.user.id)\r\n            .then(res => {\r\n                let credit = parseFloat(res.data.credit).toFixed(2);\r\n                this.setState({credit});\r\n            })\r\n    }\r\n     \r\n    onCommandeSelect(id){\r\n        api.get('/lignecommandes?commande='+id)\r\n            .then(res => {\r\n                const commande = res.data;\r\n                this.setState({ commande }); \r\n        }) \r\n    }\r\n     \r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-3\">\r\n                            <div className=\"card m-3\">\r\n                                <div className=\"card-header bg-info text-white\">\r\n                                    Crédit\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <strong>{this.state.credit} DH</strong>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                            <div className=\"card m-3\">\r\n                                <div className=\"card-header bg-info text-white\">\r\n                                    Commandes\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                        <div className=\"form-group\">\r\n                                            <input type=\"date\" onChange={this.onDateChange.bind(this)} className=\"form-control\" />\r\n                                        </div> \r\n                                        <div className=\"table-responsive\" style={{height: '400px'}}>\r\n                                            <table className=\"table table-bordered table-striped\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>ID</th>\r\n                                                        <th>Date de la commande</th>\r\n                                                        <th style={{width: '100px'}}> </th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    { this.state.commandes.map(commande => \r\n                                                        <tr key={commande.id}>\r\n                                                            <td>{commande.id}</td>\r\n                                                            <td>{commande.date}</td>\r\n                                                            <td>\r\n                                                                <button className=\"btn btn-warning\"\r\n                                                                onClick={this.onCommandeSelect.bind(this,commande.id,commande.date)}>Afficher</button>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        )}\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                            <div className=\"card m-3\">\r\n                                <div className=\"card-header bg-info text-white\">\r\n                                    Détails de la commande\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                                                                                \r\n                                        <div className=\"table-responsive\" style={{height: '400px'}}>\r\n                                            <table className=\"table table-bordered table-striped\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>Article</th>\r\n                                                        <th>Prix</th>\r\n                                                        <th>Quantité</th>\r\n                                                        <th>Montant</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    { this.state.commande.map((commande,index) => \r\n                                                        \r\n                                                        <tr key={index}>\r\n                                                            <td>{commande.article.title}</td>\r\n                                                            <td>{commande.prix.toFixed(2)}</td>\r\n                                                            <td>\r\n                                                                {commande.quantite} \r\n                                                            </td>\r\n                                                            <td>\r\n                                                                {(commande.prix * commande.quantite).toFixed(2)}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    )}\r\n                                                </tbody>\r\n                                                <tfoot  > \r\n                                                    <tr>\r\n                                                        <th>TOTAL</th>\r\n                                                        <th colSpan=\"4\" className=\"text-right\">\r\n                                                            {(this.state.commande.reduce((a, b) => parseFloat(a) + parseFloat(b.prix*b.quantite), 0)).toFixed(2)}\r\n                                                        </th>\r\n                                                    </tr>\r\n                                                </tfoot>\r\n                                            </table>\r\n                                        </div> \r\n                                    </div>\r\n                                </div>\r\n                            </div>       \r\n                        </div>\r\n                    </div>\r\n                        \r\n                \r\n            \r\n          );\r\n    }\r\n}\r\n\r\nexport default commande;  ","import React from 'react';\r\nimport { Link }  from 'react-router-dom';\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass user extends React.Component{\r\n    state = { \r\n        users : [],\r\n        message: ''\r\n    };\r\n\r\n    usersRefresh(){\r\n        this.setState({message: <div className=\"alert alert-warning\">Chargement en cours..</div>});\r\n        api.get('/users')\r\n            .then(res => {\r\n                const users = res.data;\r\n                this.setState({ users }); \r\n                this.setState({message: <div className=\"alert alert-success\">Chargement terminé..</div>});\r\n            },err=>{\r\n                this.setState({message: <div className=\"alert alert-danger\">Chargement echoué..</div>});\r\n            }) \r\n    }\r\n\r\n    componentDidMount(){\r\n        this.usersRefresh();\r\n    }\r\n     \r\n    onDelete = (id) => {\r\n        if(!window.confirm(\"Etes-vous sûr de vouloir supprimer ?\"))\r\n            return false;\r\n        this.setState({message: <div className=\"alert alert-warning\">Suppression en cours..</div>});\r\n        api.delete(`/users/${id}`).then(res => {\r\n            this.setState({message: <div className=\"alert alert-success\">Suppression effectué.</div>});\r\n            this.usersRefresh();\r\n        },err => {\r\n            this.setState({message: <div className=\"alert alert-danger\"><strong>Erreur: </strong>Suppression n'est pas effectué.</div>});\r\n        })  \r\n    }\r\n\r\n     \r\n\r\n     \r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div className=\"container\"> \r\n                    <div className=\"card m-3\">\r\n                        <div className=\"card-header bg-info text-white\">\r\n                            Liste des utilisateurs\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                        {this.state.message}\r\n                        <div className=\"table-responsive\">\r\n                            <table className=\"table table-bordered table-striped\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>Nom et prénom</th>\r\n                                        <th>Email</th>\r\n                                        <th>Tél</th>\r\n                                        <th>Admin</th>\r\n                                        <th style={{width : 200}}>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    { this.state.users.map(user => \r\n                                        <tr key={user.id}>\r\n                                            <td>{user.id}</td>\r\n                                            <td>{user.nom} {user.prenom} </td>\r\n                                            <td>{user.email}</td>\r\n                                            <td>{user.tel}</td>\r\n                                            <td>{user.roles.indexOf(\"ROLE_ADMIN\")>=0?'oui':'non'}</td>\r\n                                            <td>\r\n                                                {\r\n                                                    user.roles.indexOf(\"ROLE_ADMIN\")<0 &&\r\n                                                    <a href=\"#\"   className=\"btn btn-sm btn-danger  m-1 {user.roles.indexOf('ROLE_ADMIN')>=0?'disabled':''}\" onClick={this.onDelete.bind(this,user.id)}>Supprimer</a>  \r\n                                                }\r\n                                                \r\n                                                <Link className=\"btn btn-sm btn-success  m-1\" to={`/users/edit/${user.id}`} >Modifier</Link> \r\n                                                <Link className=\"btn btn-sm btn-warning  m-1\" to={`/users/edit/password/${user.id}`} >Mot de passe</Link> \r\n                                            </td>\r\n                                        </tr>\r\n                                        )}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n          );\r\n    }\r\n}\r\n\r\nexport default user;  ","import React from 'react';\r\nimport {Redirect}  from 'react-router-dom'\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass userNew extends React.Component{\r\n    state = { redirect: null,\r\n              user : {  \r\n                        nom         : null,\r\n                        prenom      : null,\r\n                        email       : null, \r\n                        password    : null, \r\n                        adresse     : null, \r\n                        tel         : null, \r\n                        role        :[\"ROLE_USER\"]\r\n                    }  \r\n            };\r\n\r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        api.post('/users/create', this.state.user)\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({redirect: true});\r\n        })  \r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirect)\r\n            return <Redirect to=\"/users\" />\r\n        return (\r\n            <div>\r\n                 <Nav />\r\n                <div className=\"container\">\r\n               \r\n                <div className=\"card m-3\">\r\n                    <div className=\"card-header bg-info text-white\">\r\n                        Ajouter un utilisateur\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <form onSubmit={this.onFormSubmit}>\r\n                            <div className=\"form-group\">\r\n                                <label>Nom</label>\r\n                                <input type=\"text\" onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.nom = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Prénom</label>\r\n                                <input type=\"text\" onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.prenom = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Téléphone</label>\r\n                                <input type=\"text\" onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.tel = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Adresse</label>\r\n                                <input type=\"text\" onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.adresse = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Email</label>\r\n                                <input type=\"text\" onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.email = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Mot de passe</label>\r\n                                <input type=\"text\" onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.password = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n                             \r\n                             \r\n                            <button className=\"btn btn-primary\">Ajouter</button>\r\n                        </form>\r\n                         \r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n           \r\n          );\r\n    }\r\n}\r\n\r\nexport default userNew;  ","import React from 'react';\r\nimport {Redirect}  from 'react-router-dom'\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass userNew extends React.Component{\r\n    state = { \r\n        user : {id: null, nom: null, prenom: null, email: null, adresse: null, tel: null },\r\n        redirect : null\r\n    };\r\n\r\n    componentDidMount(){\r\n        const { match: { params } } = this.props;\r\n        console.log(this.props);\r\n        api.get('/users/'+params.id)\r\n            .then(res => {\r\n                const user = res.data;\r\n                this.setState({ user }); \r\n        }) \r\n     }\r\n     \r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        api.put('/users/'+this.state.user.id,this.state.user)\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({redirect: true});\r\n        })  \r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirect)\r\n            return <Redirect to=\"/users\" />\r\n        return (\r\n            <div>\r\n                 <Nav />\r\n                 <div className=\"container\"> \r\n                <div className=\"card m-3\">\r\n                    <div className=\"card-header bg-info text-white\">\r\n                         Modifier un utilisateur \r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <form onSubmit={this.onFormSubmit}>\r\n                        <div className=\"form-group\">\r\n                                <label>Nom</label>\r\n                                <input type=\"text\" value={this.state.user.nom} onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.nom = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Prénom</label>\r\n                                <input type=\"text\" value={this.state.user.prenom} onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.prenom = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Téléphone</label>\r\n                                <input type=\"text\" value={this.state.user.tel} onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.tel = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Adresse</label>\r\n                                <input type=\"text\" value={this.state.user.adresse} onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.adresse = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Email</label>\r\n                                <input type=\"text\" value={this.state.user.email} onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.email = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n                            \r\n                             \r\n                            <button className=\"btn btn-primary\">Modifier</button>\r\n                        </form>\r\n                         \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default userNew;  ","import React from 'react';\r\nimport {Redirect}  from 'react-router-dom'\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass changePassword extends React.Component{\r\n    state = { \r\n        user        : {id: null, password: null },\r\n        redirect    : null,\r\n        message     : ''\r\n    };\r\n     \r\n    componentDidMount(){\r\n        const { match: { params } } = this.props;\r\n        let user    = this.state.user;\r\n        user.id     = params.id;\r\n        this.setState({ user });\r\n     }\r\n\r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.setState({message:<div className=\"alert alert-warning\">Modification en cours..</div> });\r\n        api.put('/users/password/'+this.state.user.id,this.state.user)\r\n            .then( res => {\r\n                this.setState({message:<div className=\"alert alert-success\">Modification effectuée..</div> });\r\n            }, err => {\r\n                this.setState({message:<div className=\"alert alert-danger\"><strong>Erreur: </strong>Modification erronnée..</div> });\r\n            })  \r\n    }\r\n\r\n    render(){\r\n        if(this.state.redirect)\r\n            return <Redirect to=\"/users\" />\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div className=\"container\"> \r\n                <div className=\"card m-3\">\r\n                    <div className=\"card-header bg-info text-white\">\r\n                        Modifier le mot de passe \r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        {this.state.message}\r\n                        <form onSubmit={this.onFormSubmit}>\r\n                          \r\n                            <div className=\"form-group\">\r\n                                <label>Nouveau Mot de passe</label>\r\n                                <input type=\"text\" value={this.state.user.password}  \r\n                                    onChange={(event)=>{\r\n                                    let user = this.state.user;\r\n                                    user.password = event.target.value;\r\n                                    this.setState({user})\r\n                                }} className=\"form-control\" />\r\n                            </div>\r\n                             \r\n                            <button className=\"btn btn-primary\">Modifier</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default changePassword;  ","import React from 'react';\r\nimport { DefaultEditor } from 'react-simple-wysiwyg';\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass Settings extends React.Component{\r\n    state = { \r\n        settings : {printhead:null, printfoot:null} ,\r\n        message  : ''\r\n    };\r\n\r\n     componentDidMount(){\r\n        this.setState({message: <div className=\"alert alert-warning\">Chargement en cours..</div>});\r\n        api.get('/settings/'+1)\r\n            .then(res => {\r\n                const settings = res.data;\r\n                this.setState({ settings }); \r\n                this.setState({message: <div className=\"alert alert-success\">Chargement terminé.</div>});\r\n            }, err => {\r\n                this.setState({message: <div className=\"alert alert-danger\">Chargement echoué.</div>});\r\n            }) \r\n     }\r\n     \r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        api.put('/settings/1',this.state.settings)\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({redirect: true});\r\n        })  \r\n    }\r\n\r\n    render(){\r\n        \r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div  className=\"container\">\r\n                    <div className=\"card m-3\">\r\n                        <div className=\"card-header bg-info text-white\">\r\n                            <h3 className=\"card-title\">Paramétres</h3>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            {this.state.message}\r\n                            <form onSubmit={this.onFormSubmit}>\r\n                                <h3>Ticket d'impression</h3>\r\n                                \r\n                                <div className=\"form-group\">\r\n                                    <label>Entête de page</label>\r\n                                    <DefaultEditor   value={this.state.settings.printhead} onChange={(event)=>{\r\n                                        let settings = this.state.settings;\r\n                                        settings.printhead = event.target.value;\r\n                                        this.setState({settings})}\r\n                                        }/>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Pied de page</label>\r\n                                    <DefaultEditor   value={this.state.settings.printfoot} onChange={(event)=>{\r\n                                        let settings = this.state.settings;\r\n                                        settings.printfoot = event.target.value;\r\n                                        this.setState({settings})}\r\n                                        }/>\r\n                                     \r\n                                </div>\r\n                                \r\n                                <button className=\"btn btn-primary\">Enregistrer les modifications</button>\r\n                            </form>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          );\r\n    }\r\n}\r\n\r\nexport default Settings;  ","import React from 'react';\r\nimport api from '../../apis/api';\r\nimport Nav from '../Nav';\r\n\r\nclass commande extends React.Component{\r\n    state = { \r\n        users           : [],\r\n        commandes       : [],\r\n        commandesMessage: '',\r\n        commande        : [],\r\n        commandeMessage : '',\r\n        user            : JSON.parse(localStorage.getItem('user')),\r\n        selecteduser    : null,\r\n        credit          : 0,\r\n        creditMessage   : '',\r\n        date            : '',\r\n    };\r\n\r\n    onDateChange(date){\r\n        if(this.state.selecteduser===null){\r\n            this.setState({commandesMessage: <div className=\"alert alert-danger\">Vuillez choisir un utilisateur!</div>});; \r\n            return false;\r\n        }\r\n        this.setState({commandesMessage: <div className=\"alert alert-warning\">Chargement en cours..</div>});\r\n        api.get('/commandes?user='+this.state.selecteduser.id+'&date='+ date)\r\n            .then(\r\n                res => {\r\n                const commandes = res.data;\r\n                this.setState({ commandes })\r\n                this.setState({commandesMessage: <div className=\"alert alert-success\">Commandes chargées.</div>});; \r\n            },\r\n            err =>{\r\n                this.setState({commandesMessage: <div className=\"alert alert-danger\"><strong>Erreur:</strong> Une erreur est survenue veuillez ressayer plus tard.</div>});; \r\n            }\r\n        ) \r\n    }\r\n\r\n    componentDidMount(){\r\n        api.get('/users')\r\n            .then(res => {\r\n                this.setState({ users: res.data }); \r\n        }) \r\n    }\r\n     \r\n    onCommandeSelect(id){\r\n        this.setState({commandeMessage: <div className=\"alert alert-warning\">Chargement en cours..</div>});\r\n        api.get('/lignecommandes?commande='+id)\r\n            .then(res => {\r\n                this.setState({commandeMessage: <div className=\"alert alert-success\">Détails de la commande chargées.</div>});\r\n                const commande = res.data;\r\n                this.setState({ commande }); \r\n            },\r\n            err =>{\r\n                this.setState({commandeMessage: <div className=\"alert alert-danger\"><strong>Erreur: </strong> Une erreur est survenue! Veuillez ressayer plus tard.</div>});; \r\n            }) \r\n    }\r\n\r\n    onCommandeAnnuler(id,etat){\r\n\r\n        this.setState({commandesMessage: <div className=\"alert alert-warning\">Oppération en cours..</div>});\r\n        api.put('/commandes/'+id,{annulee: etat}).then(\r\n            res => {\r\n                this.setState({commandesMessage: <div className=\"alert alert-success\">Oppération effectué.</div>});\r\n                this.onDateChange(this.state.date);\r\n            },\r\n            err =>{\r\n                this.setState({commandesMessage: <div className=\"alert alert-danger\"><strong>Erreur: </strong> Une erreur est survenue! Veuillez ressayer plus tard.</div>});; \r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    getCredit(id){\r\n        api.get('../commandes/no_rendu/'+id)\r\n        .then(res => {\r\n            let credit = (parseFloat(res.data.credit)).toFixed(2);\r\n            this.setState({credit});\r\n        }) \r\n    }\r\n\r\n    onEncaisser(){\r\n        this.setState({creditMessage: <div className=\"alert alert-warning\">Encaissement en cours..</div>});\r\n        let id = this.state.selecteduser.id;\r\n        api.get('../commandes/rendu/'+id)\r\n        .then(res => {\r\n            this.setState({creditMessage: <div className=\"alert alert-success\">Encaissement effectuée.</div>});\r\n            console.log(res.data.message);\r\n            this.getCredit(id);\r\n        },\r\n        err =>{\r\n            this.setState({creditMessage: <div className=\"alert alert-danger\"><strong>Erreur: </strong> Une erreur est survenue! Veuillez ressayer plus tard.</div>});; \r\n        })\r\n    }\r\n     \r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-3\">\r\n                                <div className=\"card m-3\">\r\n                                    <div className=\"card-header bg-info text-white\">\r\n                                        Utilisateurs\r\n                                    </div>\r\n                                    <div className=\"card-body overflow-auto\" style={{height:\"290px\"}}>\r\n                                        {this.state.users.length===0 &&\r\n                                            <small>Chargement des utilisateurs</small>\r\n                                        }\r\n                                        {this.state.users.map(u => {\r\n                                            return <button className=\"btn btn-success m-1 w-100\"\r\n                                                onClick={e => {\r\n                                                    this.setState({selecteduser: u});\r\n                                                    this.getCredit(u.id)\r\n                                                }}\r\n                                            ><i className=\"fa fa-user\"></i> {u.nom} {u.prenom}</button>\r\n                                        })}\r\n                                        \r\n                                           \r\n                                        \r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"card m-3\">\r\n                                    <div className=\"card-header bg-info text-white\">\r\n                                        Solde\r\n                                    </div>\r\n                                    <div className=\"card-body\">\r\n                                            {this.state.creditMessage}\r\n                                            <div className=\"table-responsive\" >\r\n                                            <table className=\"table table-bordered mt-2\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>Montant</th>\r\n                                                        <th style={{width:'100px'}}>Action</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    <tr>\r\n                                                       <td>\r\n                                                            {this.state.credit} DH\r\n                                                        </td>\r\n                                                        <td>\r\n                                                        {this.state.credit !== 0 && \r\n                                                            <button className=\"btn btn-sm btn-success\" onClick={this.onEncaisser.bind(this)}>Encaisser</button>\r\n                                                        }\r\n                                                        {this.state.credit === 0 && \r\n                                                            <button className=\"btn btn-sm btn-success\" disabled>Encaisser</button>\r\n                                                        }\r\n                                                        </td>  \r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-5\">\r\n                                <div className=\"card m-3\">\r\n                                    <div className=\"card-header bg-info text-white\">\r\n                                        Commandes\r\n                                    </div>\r\n                                    <div className=\"card-body\">\r\n                                            {this.state.commandesMessage}\r\n                                            <div className=\"form-group\">\r\n                                                {this.state.date=='' && this.state.selecteduser && <small className=\"text-warning\">Veuillez choisir une date</small>}\r\n                                            <input type=\"date\" value={this.state.date} onChange={ e =>{\r\n                                                let date = e.target.value.split(\"T\")[0];\r\n                                                this.setState({date});\r\n                                                this.onDateChange(date);\r\n                                               }} className=\"form-control\" />\r\n                                            </div>\r\n                                            {this.state.selecteduser &&\r\n                                                <div className=\"small\">\r\n                                                    <span>Utilisateur:</span> \r\n                                                    <span className=\"float-right\"><strong>{this.state.selecteduser.nom} {this.state.selecteduser.prenom}</strong></span>\r\n                                                </div>\r\n                                            }\r\n                                                <div  className=\"small\">\r\n                                                    <span>Nombre de Commandes:</span> \r\n                                                    <span className=\"float-right\"><strong>{this.state.commandes.length}</strong></span>\r\n                                                </div>\r\n                                            <div className=\"table-responsive\" style={{height:'300px'}}>\r\n                                                <table className=\"table table-bordered table-striped\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>ID</th>\r\n                                                            <th>Date de la commande</th>\r\n                                                            <th style={{width: '170px'}}> Actions</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        { this.state.commandes.map(commande => \r\n                                                            <tr key={commande.id} className={commande.annulee?\"bg-danger text-white\":\"\"}>\r\n                                                                <td>{commande.id}</td>\r\n                                                                <td>{commande.date}</td>\r\n                                                                <td>\r\n                                                                    <button className=\"btn btn-warning btn-sm mr-1\"\r\n                                                                        onClick={this.onCommandeSelect.bind(this,commande.id)}>Afficher</button>\r\n                                                                    {commande.annulee && \r\n                                                                        <button className=\"btn btn-sm btn-success\"\r\n                                                                            onClick={this.onCommandeAnnuler.bind(this,commande.id,false)}>Valider</button>\r\n                                                                    }\r\n\r\n                                                                    {!commande.annulee && \r\n                                                                    <button className=\"btn btn-sm btn-danger\"\r\n                                                                        onClick={this.onCommandeAnnuler.bind(this,commande.id,true)}>Annuler</button>\r\n                                                                    }\r\n                                                                    \r\n                                                                </td>\r\n                                                            </tr>\r\n                                                            )}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"card m-3\">\r\n                                    <div className=\"card-header bg-info text-white\">\r\n                                        Détails de la commande\r\n                                    </div>\r\n                                    <div className=\"card-body\">\r\n                                            {this.state.commandeMessage}                                                      \r\n                                            <div className=\"table-responsive\" style={{height:'350px'}}>\r\n                                                <table className=\"table table-bordered table-striped\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>Article</th>\r\n                                                            <th>Prix</th>\r\n                                                            <th>Qté</th>\r\n                                                            <th>Montant</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        { this.state.commande.map((commande,index) => \r\n                                                            \r\n                                                            <tr key={index}>\r\n                                                                <td>{commande.article.title}</td>\r\n                                                                <td>{commande.prix.toFixed(2)}</td>\r\n                                                                <td>\r\n                                                                    {commande.quantite} \r\n                                                                </td>\r\n                                                                <td>\r\n                                                                    {(commande.prix * commande.quantite).toFixed(2)}\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        )}\r\n                                                    </tbody>\r\n                                                    \r\n                                                </table>\r\n                                            </div>\r\n                                            <table className=\"table table-bordered\"> \r\n                                                <tr>\r\n                                                    <th>TOTAL</th>\r\n                                                    <th colSpan=\"4\" className=\"text-right\">\r\n                                                        {(this.state.commande.reduce((a, b) => parseFloat(a) + parseFloat(b.prix*b.quantite), 0)).toFixed(2)}\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </table> \r\n                                        </div>\r\n                                    </div>\r\n                                </div>       \r\n                            </div>\r\n                        </div>\r\n                        \r\n                \r\n            \r\n          );\r\n    }\r\n}\r\n\r\nexport default commande;  ","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport api from '../apis/api';\r\nimport jwt from 'jsonwebtoken';\r\nimport Keyboard from 'react-simple-keyboard';\r\nimport 'react-simple-keyboard/build/css/index.css';\r\n\r\nclass Login extends React.Component{\r\n    state = { id: '', email : '',password: '',nom: '', prenom: '', message: '', logged: false, personnes: []};\r\n\r\n    componentDidMount() {\r\n        api.get('../personnes').then(\r\n            res => {\r\n                let personnes = res.data;\r\n                this.setState({personnes});\r\n            }\r\n        );\r\n    }\r\n\r\n    onEmailChange = ( id,email,nom,prenom) => {\r\n         \r\n        this.setState({email  : email});\r\n        this.setState({id     : id});\r\n        this.setState({nom    : nom});\r\n        this.setState({prenom : prenom});\r\n    }\r\n\r\n    onPwdChange = (input) => {\r\n        this.setState({password : input})\r\n    }\r\n\r\n    onLogin = (event) => {\r\n         \r\n        event.preventDefault();\r\n        let message = <div className=\"alert alert-warning\">Connexion en cours..</div>\r\n        this.setState({ message }); \r\n        api.post('login_check',{\"username\":this.state.email,\"password\": this.state.password }).then(\r\n        res => {\r\n            if(res.data.token){\r\n                localStorage.setItem('token', res.data.token);\r\n                this.setState({message: <div className=\"alert alert-success\"> <strong>Success :</strong> Authentication effectué avec succes. redirection en cours..</div> });\r\n                api.get('/current_user',{\r\n                    headers: {\r\n                        'Content-Type'  : 'application/json',\r\n                        'Accept'        : 'application/json',\r\n                        'Authorization' : `Bearer ${res.data.token}`\r\n                    }\r\n                }).then(res => {\r\n                    localStorage.setItem('user', JSON.stringify(res.data));\r\n                    this.setState({logged: true});\r\n                });                \r\n            }\r\n        },\r\n        err => {\r\n            this.setState({message: <div className=\"alert alert-danger\"> <strong>Erreur d'Authentification:</strong> Nom d'utilisateur ou mot de passe est incorrect.</div>});\r\n        })  \r\n    }\r\n     \r\n    render(){\r\n        if(this.state.logged) \r\n            return <Redirect to={'/commande/new'} />\r\n        return (\r\n             <div className=\"container\">\r\n                <div className=\"card m-3\">\r\n                    <div className=\"card-header  bg-primary text-white\">\r\n                        <h3> My <i>Café</i> 2020 <small>Authentification</small></h3>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <form onSubmit={this.onLogin}>\r\n                            {this.state.message} \r\n                            <div className=\"form-group\">\r\n                                    { this.state.personnes.length===0 && <small>Chargement des utilisateurs en cours..</small>}\r\n                                    { this.state.personnes.map( p =>\r\n                                        <button key={p.id} onClick={event => {\r\n                                                event.preventDefault();\r\n                                                this.onEmailChange(p.id,p.email,p.nom,p.prenom)\r\n                                            }\r\n                                        }\r\n                                          className=\"btn m-2 btn-info\">\r\n                                            <i className=\"fas fa-user\"></i> {p.nom} {p.prenom}\r\n                                        </button>\r\n                                    )}\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Mot de passe</label>\r\n                                <div className=\"input-group mb-2\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                    <div className=\"input-group-text\">{this.state.email}</div>\r\n                                    </div>\r\n                                    <input type=\"password\" onChange={(text)=>this.setState({password: text})} value={this.state.password}  className=\"form-control\" />\r\n                                </div>\r\n                                <Keyboard onChange={this.onPwdChange} />\r\n                            </div>\r\n                            <button className=\"btn btn-primary\">Connexion</button>\r\n                        </form>\r\n                         \r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n          );\r\n    }\r\n}\r\n \r\nexport default Login;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nclass Logout extends React.Component{\r\n    \r\n    constructor(){\r\n        super();\r\n        localStorage.clear();\r\n    }\r\n\r\n     \r\n     \r\n    render(){\r\n        return <Redirect to=\"/login\" /> \r\n    }\r\n}\r\n \r\nexport default Logout;","import React from 'react'\r\nimport { Route,Switch,BrowserRouter}  from 'react-router-dom'\r\n\r\nimport ArticleListe from './article/Liste'\r\nimport ArticleNew from './article/New'\r\nimport ArticleEdit from './article/Edit'\r\nimport CategoryListe from './category/Liste'\r\nimport CategoryNew from './category/New'\r\nimport CategoryEdit from './category/Edit'\r\nimport CommandeNew from './commande/New'\r\nimport CommandeListe from './commande/Liste'\r\nimport UserListe from './users/Liste'\r\nimport UserNew from './users/New'\r\nimport UserEdit from './users/Edit'\r\nimport ChangePassword from './users/changePassword'\r\nimport Settings from './settings'\r\nimport Historique from './historique'\r\nimport Login from './Login'\r\nimport Logout from './Logout'\r\n \r\n\r\nclass Home extends React.Component{\r\n   \r\n    render(){\r\n            return (\r\n               <div>\r\n                   <BrowserRouter>\r\n                        <Switch>\r\n                            <Route exact path=\"/\" component ={Login} />\r\n                            <Route path=\"/commande/new\" exact  component ={CommandeNew} />\r\n                            <Route path=\"/commandes\"  exact component ={CommandeListe} />\r\n                            <Route path=\"/categories\"  exact component ={CategoryListe} />\r\n                            <Route path=\"/categories/new\" exact  component ={CategoryNew} />\r\n                            <Route path=\"/categories/edit/:id\" exact  component ={CategoryEdit} />\r\n                            <Route path=\"/articles\" exact component ={ArticleListe} />\r\n                            <Route path=\"/articles/new\" exact component ={ArticleNew} />\r\n                            <Route path=\"/articles/edit/:id\" exact  component ={ArticleEdit} />\r\n                            <Route path=\"/users\" exact component ={UserListe} />\r\n                            <Route path=\"/users/new\" exact component ={UserNew} />\r\n                            <Route path=\"/users/edit/:id\" exact component ={UserEdit} />\r\n                            <Route path=\"/settings\" exact component ={Settings} />\r\n                            <Route path=\"/historique\" exact component ={Historique} />\r\n                            <Route path=\"/users/edit/password/:id\" exact  component ={ChangePassword} />\r\n                            <Route path=\"/login\" exact component ={Login} />\r\n                            <Route path=\"/logout\" exact component ={Logout} />\r\n                        </Switch>\r\n                    </BrowserRouter>\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Home from './components/Home'\r\n\r\nReactDOM.render(\r\n    <Home /> , \r\n    document.querySelector(\"#root\")\r\n)"],"sourceRoot":""}